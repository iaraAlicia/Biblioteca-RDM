{% extends 'acervo/base_publica.html' %}
{% load static %}

{% block body_class %}light-theme{% endblock %}

{% block page_specific_css %}
    /* Define a imagem de fundo específica para esta página */
    background-image: url("{% static 'images/bg-login3.png' %}");
    --hero-overlay-color: transparent; /* Remove o overlay azulado */
{% endblock %}


{% block content %}
<style>
    /* Estilos específicos APENAS para a página de login */
    .login-card {
        background-color: white;
        color: #333;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);

        position: relative;
        z-index: 2;
    }
    .form-control-custom {
        border-radius: 25px; padding: 0.75rem 1.25rem; border: 1px solid #ced4da; background-color: #f8f9fa;
    }
    .form-control-custom:focus {
        background-color: white; border-color: #86b7fe; box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
    }
    .btn-login-custom {
        border-radius: 25px; padding: 0.75rem; font-weight: 500; background-color: #4DB8A7; border: none;
    }
    .btn-login-custom:hover {
        background-color: #42a192;
    }
    .user-icon { font-size: 4rem; color: #ccc; margin-bottom: 1.5rem; }
    .forgot-password { font-size: 0.8rem; text-align: right; display: block; margin-top: -0.5rem; margin-bottom: 1.5rem; }

    /* --- NOVOS ESTILOS PARA O CONTEÚDO DA ESQUERDA --- */
    .login-welcome-content {
        color: white !important;
        padding-right: 2rem; /* Adiciona um espaço para não colar no card de login */
    }
    .login-welcome-content h1 {
        font-weight: 700;
        font-size: 3.5rem;
        line-height: 1.2;
    }
    .login-welcome-content p {
        font-size: 1.1rem;
        opacity: 0.9;
    }

</style>

<div class="hero-section">
    <div class="hero-overlay" style="background-color: var(--hero-overlay-color, rgba(44, 91, 150, 0.8));"></div>
    
    <div class="container h-100">
        <div class="row h-100 align-items-center">
            
            <div class="col-lg-6 d-none d-lg-block">
                <div class="login-welcome-content">
                    <h1>Hello!<br>welcome</h1>
                    <p class="mt-3">
                        Bem-vindo à Biblioteca Virtual. Um espaço digital para explorar novos mundos, incentivar a leitura e preservar a nossa história.
                    </p>
                </div>
            </div>

            <div class="col-lg-5 offset-lg-1 col-md-8 offset-md-2">
                <div class="card login-card">
                    <div class="card-body p-5">
                        <div class="text-center">
                            <i class="bi bi-person-circle user-icon"></i>
                        </div>

                        {% if form.errors %}
                            <div class="alert alert-danger" role="alert">
                                Usuário ou senha inválidos.
                            </div>
                        {% endif %}

                        <form method="post" action="{% url 'login' %}">
                            {% csrf_token %}
                            <div class="mb-3">
                                {{ form.username }}
                            </div>
                            <div class="mb-3">
                                {{ form.password }}
                            </div>
                            <a href="#" class="forgot-password text-muted text-decoration-none">Forgot Password?</a>
                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary btn-login-custom">Login</button>
                            </div>
                        </form>

                        <div class="text-center mt-4">
                            <p class="text-muted small">Não tem uma conta? <a href="{% url 'registrar' %}" class="text-decoration-none">Registre-se</a></p>
                            <a href="{% url 'home' %}" class="btn btn-link btn-sm mt-2"><i class="bi bi-arrow-left"></i> Voltar para a Home</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}